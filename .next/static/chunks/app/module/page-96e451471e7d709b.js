(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{1644:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5155),l=n(2115),s=n(6874),o=n.n(s),i=n(7557),d=n.n(i);function r(e){let{isOpen:t,onClose:n,onSubmit:s}=e,[o,i]=(0,l.useState)({title:"",module_number:"",description:"",events:[{title:"",date:"",description:""}]}),r=e=>{let{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))},c=(e,t)=>{let{name:n,value:a}=t.target,l=[...o.events];l[e]={...l[e],[n]:a},i(e=>({...e,events:l}))},m=e=>{let t=o.events.filter((t,n)=>n!==e);i(e=>({...e,events:t}))};return t?(0,a.jsx)("div",{className:d().modalOverlay,children:(0,a.jsxs)("div",{className:d().modalContent,children:[(0,a.jsx)("h2",{className:d().modalTitle,children:"Neues Modul erstellen"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(o),n()},className:d().modalForm,children:[(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"title",children:"Titel *"}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",value:o.title,onChange:r,required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"module_number",children:"Modulnummer *"}),(0,a.jsx)("input",{type:"text",id:"module_number",name:"module_number",value:o.module_number,onChange:r,required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"description",children:"Beschreibung"}),(0,a.jsx)("textarea",{id:"description",name:"description",value:o.description,onChange:r})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{children:"Ereignisse"}),o.events.map((e,t)=>(0,a.jsxs)("div",{className:d().eventGroup,children:[(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"event-title-".concat(t),children:"Titel"}),(0,a.jsx)("input",{type:"text",id:"event-title-".concat(t),name:"title",value:e.title,onChange:e=>c(t,e)})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"event-date-".concat(t),children:"Datum"}),(0,a.jsx)("input",{type:"date",id:"event-date-".concat(t),name:"date",value:e.date,onChange:e=>c(t,e)})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"event-description-".concat(t),children:"Beschreibung"}),(0,a.jsx)("input",{type:"text",id:"event-description-".concat(t),name:"description",value:e.description,onChange:e=>c(t,e)})]}),(0,a.jsx)("button",{type:"button",className:d().removeEventButton,onClick:()=>m(t),children:"Ereignis entfernen"})]},t)),(0,a.jsx)("button",{type:"button",className:d().addEventButton,onClick:()=>{i(e=>({...e,events:[...e.events,{title:"",date:"",description:""}]}))},children:"Ereignis hinzuf\xfcgen"})]}),(0,a.jsxs)("div",{className:d().modalActions,children:[(0,a.jsx)("button",{type:"button",className:d().cancelButton,onClick:n,children:"Abbrechen"}),(0,a.jsx)("button",{type:"submit",className:d().saveButton,children:"Speichern"})]})]})]})}):null}function c(){let[e,t]=(0,l.useState)([]),[n,s]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/modules"),n=await e.json();n.success&&t(n.modules)}catch(e){console.error("Error fetching modules:",e)}finally{c(!1)}})()},[]);let m=async e=>{let n=await fetch("/api/modules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await n.json();a.success?(t(t=>[...t,{...e,_id:a.id}]),s(!1)):alert(a.error||"Fehler beim Erstellen des Moduls")};return i?(0,a.jsx)("div",{className:d().container,children:"Laden..."}):(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsx)("h1",{className:d().pageTitle,children:"Module"}),(0,a.jsx)("button",{className:"".concat(d().addButton," animated-button"),onClick:()=>s(!0),children:"Neues Modul hinzuf\xfcgen"}),e.length>0?(0,a.jsx)("div",{className:d().moduleGrid,children:e.map(e=>(0,a.jsxs)("div",{className:d().moduleCard,children:[(0,a.jsxs)("div",{className:d().moduleHeader,children:[(0,a.jsx)("h2",{className:d().moduleTitle,children:e.title}),(0,a.jsxs)("p",{className:d().moduleNumber,children:["Modul (",e.module_number,")"]})]}),(0,a.jsxs)("div",{className:d().moduleBody,children:[(0,a.jsx)("p",{className:d().moduleDescription,children:e.description||"Keine Beschreibung verf\xfcgbar"}),(0,a.jsx)(o(),{href:"/module/".concat(e._id),className:"".concat(d().viewButton," animated-button-secondary"),children:"Details anzeigen"})]})]},e._id.toString()))}):(0,a.jsxs)("div",{className:d().emptyState,children:[(0,a.jsx)("div",{className:d().emptyStateIcon,children:"\uD83D\uDCDA"}),(0,a.jsx)("p",{className:d().emptyStateText,children:"Keine Module gefunden"})]}),(0,a.jsx)(r,{isOpen:n,onClose:()=>s(!1),onSubmit:m})]})}},3420:(e,t,n)=>{Promise.resolve().then(n.bind(n,1644))},7557:e=>{e.exports={container:"page_container__7lf40",pageTitle:"page_pageTitle__gPwi_",moduleGrid:"page_moduleGrid__XnCEW",moduleCard:"page_moduleCard__cY_je",moduleHeader:"page_moduleHeader__9923O",moduleTitle:"page_moduleTitle___uBUu",moduleNumber:"page_moduleNumber__BWLqs",moduleBody:"page_moduleBody__MZbjM",moduleDescription:"page_moduleDescription__086jY",viewButton:"page_viewButton__K4zYw",emptyState:"page_emptyState__9q1AT",emptyStateIcon:"page_emptyStateIcon__VlCuY",emptyStateText:"page_emptyStateText__3bXh7",addButton:"page_addButton__GC2cC",modalOverlay:"page_modalOverlay__lMAqs",modalContent:"page_modalContent__OmFxR",modalTitle:"page_modalTitle__28ypS",modalForm:"page_modalForm__I0boy",formGroup:"page_formGroup__I4gVM",modalActions:"page_modalActions__MxYjt",cancelButton:"page_cancelButton__0yzN5",saveButton:"page_saveButton__c_pI6",eventGroup:"page_eventGroup__NCRrM",addEventButton:"page_addEventButton__4tQ9E",removeEventButton:"page_removeEventButton__uH_w7"}}},e=>{var t=t=>e(e.s=t);e.O(0,[470,874,441,684,358],()=>t(3420)),_N_E=e.O()}]);