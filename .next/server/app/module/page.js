(()=>{var e={};e.id=515,e.ids=[515],e.modules={404:(e,t,n)=>{Promise.resolve().then(n.bind(n,3164))},440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s=n(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=n(5239),a=n(8088),r=n(8170),o=n.n(r),i=n(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);n.d(t,l);let d={children:["",{children:["module",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,1133)),"C:\\Users\\Janjao\\GitHub\\schoolmanagmentsystem\\src\\app\\module\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,9769)),"C:\\Users\\Janjao\\GitHub\\schoolmanagmentsystem\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\Users\\Janjao\\GitHub\\schoolmanagmentsystem\\src\\app\\module\\page.jsx"],m={require:n,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/module/page",pathname:"/module",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1133:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Janjao\\\\GitHub\\\\schoolmanagmentsystem\\\\src\\\\app\\\\module\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Janjao\\GitHub\\schoolmanagmentsystem\\src\\app\\module\\page.jsx","default")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var s=n(687),a=n(3210),r=n(5814),o=n.n(r),i=n(4940),l=n.n(i);function d({isOpen:e,onClose:t,onSubmit:n}){let[r,o]=(0,a.useState)({title:"",module_number:"",description:"",events:[{title:"",date:"",description:""}]}),i=e=>{let{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))},d=(e,t)=>{let{name:n,value:s}=t.target,a=[...r.events];a[e]={...a[e],[n]:s},o(e=>({...e,events:a}))},u=e=>{let t=r.events.filter((t,n)=>n!==e);o(e=>({...e,events:t}))};return e?(0,s.jsx)("div",{className:l().modalOverlay,children:(0,s.jsxs)("div",{className:l().modalContent,children:[(0,s.jsx)("h2",{className:l().modalTitle,children:"Neues Modul erstellen"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(r),t()},className:l().modalForm,children:[(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{htmlFor:"title",children:"Titel *"}),(0,s.jsx)("input",{type:"text",id:"title",name:"title",value:r.title,onChange:i,required:!0})]}),(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{htmlFor:"module_number",children:"Modulnummer *"}),(0,s.jsx)("input",{type:"text",id:"module_number",name:"module_number",value:r.module_number,onChange:i,required:!0})]}),(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{htmlFor:"description",children:"Beschreibung"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:r.description,onChange:i})]}),(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{children:"Ereignisse"}),r.events.map((e,t)=>(0,s.jsxs)("div",{className:l().eventGroup,children:[(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{htmlFor:`event-title-${t}`,children:"Titel"}),(0,s.jsx)("input",{type:"text",id:`event-title-${t}`,name:"title",value:e.title,onChange:e=>d(t,e)})]}),(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{htmlFor:`event-date-${t}`,children:"Datum"}),(0,s.jsx)("input",{type:"date",id:`event-date-${t}`,name:"date",value:e.date,onChange:e=>d(t,e)})]}),(0,s.jsxs)("div",{className:l().formGroup,children:[(0,s.jsx)("label",{htmlFor:`event-description-${t}`,children:"Beschreibung"}),(0,s.jsx)("input",{type:"text",id:`event-description-${t}`,name:"description",value:e.description,onChange:e=>d(t,e)})]}),(0,s.jsx)("button",{type:"button",className:l().removeEventButton,onClick:()=>u(t),children:"Ereignis entfernen"})]},t)),(0,s.jsx)("button",{type:"button",className:l().addEventButton,onClick:()=>{o(e=>({...e,events:[...e.events,{title:"",date:"",description:""}]}))},children:"Ereignis hinzuf\xfcgen"})]}),(0,s.jsxs)("div",{className:l().modalActions,children:[(0,s.jsx)("button",{type:"button",className:l().cancelButton,onClick:t,children:"Abbrechen"}),(0,s.jsx)("button",{type:"submit",className:l().saveButton,children:"Speichern"})]})]})]})}):null}function u(){let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[i,u]=(0,a.useState)(!0),m=async e=>{let n=await fetch("/api/modules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await n.json();s.success?(t(t=>[...t,{...e,_id:s.id}]),r(!1)):alert(s.error||"Fehler beim Erstellen des Moduls")};return i?(0,s.jsx)("div",{className:l().container,children:"Laden..."}):(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{className:l().pageTitle,children:"Module"}),(0,s.jsx)("button",{className:`${l().addButton} animated-button`,onClick:()=>r(!0),children:"Neues Modul hinzuf\xfcgen"}),e.length>0?(0,s.jsx)("div",{className:l().moduleGrid,children:e.map(e=>(0,s.jsxs)("div",{className:l().moduleCard,children:[(0,s.jsxs)("div",{className:l().moduleHeader,children:[(0,s.jsx)("h2",{className:l().moduleTitle,children:e.title}),(0,s.jsxs)("p",{className:l().moduleNumber,children:["Modul (",e.module_number,")"]})]}),(0,s.jsxs)("div",{className:l().moduleBody,children:[(0,s.jsx)("p",{className:l().moduleDescription,children:e.description||"Keine Beschreibung verf\xfcgbar"}),(0,s.jsx)(o(),{href:`/module/${e._id}`,className:`${l().viewButton} animated-button-secondary`,children:"Details anzeigen"})]})]},e._id.toString()))}):(0,s.jsxs)("div",{className:l().emptyState,children:[(0,s.jsx)("div",{className:l().emptyStateIcon,children:"\uD83D\uDCDA"}),(0,s.jsx)("p",{className:l().emptyStateText,children:"Keine Module gefunden"})]}),(0,s.jsx)(d,{isOpen:n,onClose:()=>r(!1),onSubmit:m})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4940:e=>{e.exports={container:"page_container__7lf40",pageTitle:"page_pageTitle__gPwi_",moduleGrid:"page_moduleGrid__XnCEW",moduleCard:"page_moduleCard__cY_je",moduleHeader:"page_moduleHeader__9923O",moduleTitle:"page_moduleTitle___uBUu",moduleNumber:"page_moduleNumber__BWLqs",moduleBody:"page_moduleBody__MZbjM",moduleDescription:"page_moduleDescription__086jY",viewButton:"page_viewButton__K4zYw",emptyState:"page_emptyState__9q1AT",emptyStateIcon:"page_emptyStateIcon__VlCuY",emptyStateText:"page_emptyStateText__3bXh7",addButton:"page_addButton__GC2cC",modalOverlay:"page_modalOverlay__lMAqs",modalContent:"page_modalContent__OmFxR",modalTitle:"page_modalTitle__28ypS",modalForm:"page_modalForm__I0boy",formGroup:"page_formGroup__I4gVM",modalActions:"page_modalActions__MxYjt",cancelButton:"page_cancelButton__0yzN5",saveButton:"page_saveButton__c_pI6",eventGroup:"page_eventGroup__NCRrM",addEventButton:"page_addEventButton__4tQ9E",removeEventButton:"page_removeEventButton__uH_w7"}},8964:(e,t,n)=>{Promise.resolve().then(n.bind(n,1133))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[719,616,658,89],()=>n(662));module.exports=s})();